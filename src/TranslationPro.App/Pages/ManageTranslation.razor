@page "/applications/{ApplicationId:guid}/phrases/{PhraseId:int}/languages/{LanguageId}"
@inherits PhraseDetailsBase

@code {

}
@layout ApplicationLayout

@if (Application != null && ApplicationPhrase != null)
{

    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <NavLink href="@{
                $"/applications"
}">Applications</NavLink>
            </li>
            <li class="breadcrumb-item">
                <NavLink href="@{
                $"/applications/{ApplicationId}"
}">@Application.Name</NavLink>
            </li>

            <li class="breadcrumb-item">
                <NavLink href="@{
                $"/applications/{ApplicationId}/phrases/{PhraseId}"
}">@ApplicationPhrase.Id</NavLink>
            </li>

            <li class="breadcrumb-item active" aria-current="page">Manage Translation: @ApplicationTranslation.LanguageName</li>
        </ol>
    </nav>
}


@if (ApplicationTranslation != null && ApplicationPhrase != null)
{
    <div class="row mb-5">
        <div class="col-6">
            <Card Title="English">
                <p class="card-text">@ApplicationPhrase.Text</p>
            </Card>
        </div>
        <div class="col-6">

            <Card Title="@ApplicationTranslation.LanguageName">
                <p class="card-text">
                    @ApplicationTranslation.Text
                </p>
            </Card>
        </div>
    </div>
    <div class="row">

        <CommonTable Items="ApplicationPhrase.MachineTranslations[LanguageId]">
            <HeaderTemplate>
                <th>Text</th>
                <th>Engine</th>
                <td></td>
            </HeaderTemplate>
            <ItemTemplate>
                <td>@context.Text</td>
                <td>@context.Engine</td>
                <td>
                    
                    @if (@context.Text != @ApplicationTranslation.Text)
                    {
                        
                        <button @onclick="() => Callback(context.Text)"
                                class="btn btn-outline-primary">
                            Use This Translation
                        </button>
                    }

                </td>
            </ItemTemplate>
        </CommonTable>
    </div>

    @*
    <EditForm Model="Input" OnSubmit="HandleSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="mb-3">

            <label for="name" class="form-label">Name</label>
            <InputText id="name" class="form-control" @bind-Value="Input.Text"></InputText>
        </div>


        <button type="submit" class="btn btn-primary">Save</button>

    </EditForm>*@
} 